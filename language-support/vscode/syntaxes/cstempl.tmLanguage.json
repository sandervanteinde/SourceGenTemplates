{
	"$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
	"name": "C# Source Generator Template",
	"fileTypes": [
		".cstempl"
	],
	"patterns": [
		{
			"include": "#code-context"
		},
		{
			"include": "#non-code-context"
		}
	],
	"foldingStartMarker": "{{",
	"foldingStopMarker": "}}",
	"repository": {
		"code-context": {
			"begin": "{{",
			"end": "}}",
			"name": "expression.csharptemplcodecontext",
			"patterns": [
				{
					"include": "#reserved-keywords"
				},
				{
					"include": "#directive-names"
				}
			],
			"beginCaptures": {
			  "0": { "name": "punctuation.paren.open" }
			},
			"endCaptures": {
			  "0": { "name": "punctuation.paren.close" }
			}
		},
		"reserved-keywords": {
			"match": "\\b(where|is|and|has_attribute|not|in|to)\\b",
            "name": "keyword.operator.keyword.cstempl"
		},
		"directive-names": {
			"match": "(#|\\/)(foreach|filename|for|if|else)",
			"name": "keyword.control.directive.cstempl"
		},
		"non-code-context": {
			"match": ".+?(?={{)",
			"name": "meta.embedded.block.csharp",
			"patterns": [
				{
					"include": "source.cs"
				}
			]
		}
	},
	"scopeName": "source.cs.sourcegentemplates"
}